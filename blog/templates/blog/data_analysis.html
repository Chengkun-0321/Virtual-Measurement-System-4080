{% extends "blog/base/yes_login.html" %}
{% load static %}

{% block title %}è³‡æ–™åˆ†æ{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/data_analysis.css' %}?v=1">
{% endblock %}

{% block content %}
<div class="container">
    <br>
    <h2 class="mb-4 text-center">â¬‡ï¸ è³‡æ–™åˆ†æé é¢</h2>

    <!-- ä¼ºæœå™¨é€£ç·šæç¤º -->
    <div id="ssh-status" class="text-center mb-3">
        <span class="text-warning fw-bold">ğŸŸ¡ ä¼ºæœå™¨é€£ç·šä¸­...</span>
    </div>

    <!-- æ¨¡å‹é¸å–® -->
    <div class="mb-4 text-center">
        <label for="modelSelect" class="form-label fs-5">é¸æ“‡æ¨¡å‹åç¨±</label>
        <select id="modelSelect" class="form-select text-center mx-auto" style="max-width: 400px;">
            <option disabled selected>è¼‰å…¥ä¸­...</option>
        </select>
    </div>

    <!-- æ¨¡å‹æª”æ¡ˆä¸‹è¼‰ -->
    <div class="text-center mb-4">
        <button onclick="download()" class="btn btn-primary m-2">
            ğŸ“¥ ä¸‹è¼‰æ¨¡å‹æª”æ¡ˆ
        </button>
    </div>

    <!-- åˆ†æåœ–è¡¨ -->
    <div id="imageContainer" class="mt-5">
        <h4 class="text-center mb-4">ğŸ“Š åˆ†æåœ–è¡¨é è¦½</h4>

        <!-- ç¬¬ä¸€æ’ï¼šMAPE & MSE -->
        <div class="row mb-4">
            <div class="col-md-6 text-center">
                <h6>MAPE æ›²ç·š</h6>
                <img id="img-mape" class="img-fluid rounded shadow analysis-img" onerror="handleImageError(this)">
                <div id="err-img-mape" class="text-danger mt-2 fw-bold d-none">æ‰¾ä¸åˆ°åœ–æª”</div>
            </div>
            <div class="col-md-6 text-center">
                <h6>MSE æ›²ç·š</h6>
                <img id="img-mse" class="img-fluid rounded shadow analysis-img" onerror="handleImageError(this)">
                <div id="err-img-mse" class="text-danger mt-2 fw-bold d-none">æ‰¾ä¸åˆ°åœ–æª”</div>
            </div>
        </div>

        <!-- ç¬¬äºŒæ’ï¼šLoss & MAE -->
        <div class="row mb-4">
            <div class="col-md-6 text-center">
                <h6>Loss æ›²ç·š</h6>
                <img id="img-loss" class="img-fluid rounded shadow analysis-img" onerror="handleImageError(this)">
                <div id="err-img-loss" class="text-danger mt-2 fw-bold d-none">æ‰¾ä¸åˆ°åœ–æª”</div>
            </div>
            <div class="col-md-6 text-center">
                <h6>MAE æ›²ç·š</h6>
                <img id="img-mae" class="img-fluid rounded shadow analysis-img" onerror="handleImageError(this)">
                <div id="err-img-mae" class="text-danger mt-2 fw-bold d-none">æ‰¾ä¸åˆ°åœ–æª”</div>
            </div>
        </div>

        <!-- ç¬¬ä¸‰æ’ï¼šGround Truth vs é æ¸¬ -->
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h5>Ground Truth vs é æ¸¬</h5>
                <img id="img-gt" class="img-fluid rounded shadow" style="height:400px; width:100%; object-fit:contain;" onerror="handleImageError(this)">
                <div id="err-img-gt" class="text-danger mt-2 fw-bold d-none">æ‰¾ä¸åˆ°åœ–æª”</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/data_analysis.js' %}"></script>
{% endblock %}