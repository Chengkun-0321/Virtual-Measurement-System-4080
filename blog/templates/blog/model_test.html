{% extends "blog/base/yes_login.html" %}
{% load static %}

{% block title %}æ¨¡å‹æ¸¬è©¦{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/model_test.css' %}?v=1">
{% endblock %}

{% block content %}
<div class="container">
    <br>
    <h2 class="mb-4 text-center">ğŸ§ª æ¨¡å‹æ¸¬è©¦é é¢</h2>

    <!-- ä¼ºæœå™¨é€£ç·šæç¤º -->
    <div id="ssh-status" class="text-center mb-3">
        <span class="text-warning fw-bold">ğŸŸ¡ ä¼ºæœå™¨é€£ç·šä¸­...</span>
    </div>

    <!-- è¡¨å–® + æ··æ·†çŸ©é™£ -->
    <div class="row">
        <!-- å·¦å´è¡¨å–® -->
        <div class="col-lg-7 col-md-6 mb-4">
            <div class="card p-4 shadow-sm fs-5 h-100">
                <h5 class="card-title text-center">æ¸¬è©¦åƒæ•¸è¨­å®š</h5>
                <form id="test-form" method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">é¸æ“‡æ¨¡å‹æ¶æ§‹</label>
                            <select name="model" class="form-select">
                                <option value="Mamba">Mamba</option>
                                <option value="ResNet">ResNet</option>
                                <option value="LSTM">LSTM</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label">æ¸¬è©¦è³‡æ–™ä¾†æº</label>
                            <select name="dataset" class="form-select">
                                <option value="PETBottle">PETBottle</option>
                                <option value="TFT">TFT</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-4">
                            <label class="form-label">é¸æ“‡ Checkpoint æª”æ¡ˆ</label>
                            <select name="checkpoint_path" id="checkpoint-select" class="form-select">
                                <option disabled selected>è¼‰å…¥ä¸­...</option>
                            </select>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label">mean</label>
                            <input type="text" name="mean" class="form-control" value="65.0">
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label">boundary_upper</label>
                            <input type="text" name="boundary_upper" class="form-control" value="70.0">
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label">boundary_lower</label>
                            <input type="text" name="boundary_lower" class="form-control" value="60.0">
                        </div>
                    </div>

                    <!-- æŒ‰éˆ• -->
                    <div class="d-grid">
                        <button type="button" class="btn btn-success btn-lg" id="run-test">
                            â–¶ï¸ åŸ·è¡Œæ¨¡å‹æ¸¬è©¦
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- å³å´æ··æ·†çŸ©é™£ -->
        <div class="col-lg-5 col-md-6 mb-4">
            <div class="card p-4 shadow-sm fs-5 h-100 text-center">
                <h5 class="card-title">ğŸ” æ··æ·†çŸ©é™£</h5>
                <img id="confusion-matrix" src="" alt="" class="img-fluid rounded">
                <p id="confusion-hint" class="text-muted">å°šæœªé–‹å§‹æ¸¬è©¦...</p>
            </div>
        </div>
    </div>

    <!-- Ground Truth åœ– -->
    <br>
    <div class="card p-4 shadow-sm text-center">
        <h5 class="card-title">ğŸ“ˆ çœŸå¯¦ vs é æ¸¬åœ–</h5>
        <img id="ground-truth" src="" alt="" class="img-fluid rounded">
        <p id="groundtruth-hint" class="text-muted">å°šæœªé–‹å§‹æ¸¬è©¦...</p>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/model_test.js' %}"></script>
{% endblock %}