{% extends "blog/base/yes_login.html" %}
{% load static %}

{% block title %}æ¨¡å‹è¨“ç·´{% endblock %}
{% block styles %}
<link rel="stylesheet" href="{% static 'css/model_train.css' %}?v=1">
{% endblock %}

{% block content %}
<div class="container">
    <br>
    <h2 class="mb-4 text-center">ğŸš€ æ¨¡å‹è¨“ç·´é é¢</h2>

    <div id="ssh-status" class="text-center mb-3">
        <span class="text-warning fw-bold">ğŸŸ¡ ä¼ºæœå™¨é€£ç·šä¸­...</span>
    </div>

    <!-- è¡¨å–® -->
    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
            <div class="card p-4 shadow-sm fs-5 h-100">
                <h5 class="card-title text-center">è¨“ç·´åƒæ•¸è¨­å®š</h5>
                <form id="train-form" method="post" class="mb-4">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">é¸æ“‡æ¨¡å‹æ¶æ§‹</label>
                            <select name="model" class="form-select">
                                <option value="Mamba">Mamba</option>
                                <option value="ResNet">ResNet</option>
                                <option value="LSTM">LSTM</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">è¨“ç·´è³‡æ–™ä¾†æº</label>
                            <select name="dataset" class="form-select">
                                <option value="PETBottle">PETBottle</option>
                                <option value="TFT">TFT</option>
                            </select>
                        </div>

                        <div class="col-md-3 mb-3">
                            <label class="form-label">epochs</label>
                            <input type="text" name="epochs" class="form-control" value="10">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label">batch_size</label>
                            <input type="text" name="batch_size" class="form-control" value="129">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label">learning_rate</label>
                            <input type="text" name="learning_rate" class="form-control" value="0.0001">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label class="form-label">validation_freq</label>
                            <input type="text" name="validation_freq" class="form-control" value="1">
                        </div>

                        <div class="d-grid">
                            <button type="button" class="btn btn-primary btn-lg" id="run-train">â–¶ï¸ åŸ·è¡Œæ¨¡å‹è¨“ç·´</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- è¨“ç·´æ›²ç·š -->
    <br>
    <div class="row">
        <div class="col-md-6">
            <h5 class="card-title text-center">å³æ™‚ Loss è¨“ç·´æ›²ç·š</h5>
            <canvas id="LossChart" height="150" class="mb-4"></canvas>
        </div>
        <div class="col-md-6">
            <h5 class="card-title text-center">å³æ™‚ Acc è¨“ç·´æ›²ç·š</h5>
            <canvas id="AccChart" height="150" class="mb-4"></canvas>
        </div>
    </div>

</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'js/model_train.js' %}"></script>
{% endblock %}